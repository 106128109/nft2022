(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/goodsDetail"],{2175:function(t,n,e){"use strict";var a=e("3061"),u=e.n(a);u.a},3061:function(t,n,e){},"4b65":function(t,n,e){"use strict";(function(t){e("c224");a(e("66fd"));var n=a(e("6aaf"));function a(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=e,t(n.default)}).call(this,e("543d")["createPage"])},"6aaf":function(t,n,e){"use strict";e.r(n);var a=e("ce86"),u=e("fa76");for(var o in u)"default"!==o&&function(t){e.d(n,t,(function(){return u[t]}))}(o);e("2175");var s,r=e("f0c5"),i=Object(r["a"])(u["default"],a["b"],a["c"],!1,null,"5761c927",null,!1,a["a"],s);n["default"]=i.exports},8225:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(e("a34a"));function u(t){return t&&t.__esModule?t:{default:t}}function o(t,n,e,a,u,o,s){try{var r=t[o](s),i=r.value}catch(c){return void e(c)}r.done?n(i):Promise.resolve(i).then(a,u)}function s(t){return function(){var n=this,e=arguments;return new Promise((function(a,u){var s=t.apply(n,e);function r(t){o(s,a,u,r,i,"next",t)}function i(t){o(s,a,u,r,i,"throw",t)}r(void 0)}))}}var r=function(){e.e("components/cz-countdown/cz-countdown").then(function(){return resolve(e("9188"))}.bind(null,e)).catch(e.oe)},i={components:{countdown:r},data:function(){return{goodsId:"",info:{},text:"",flag:"",rzflag:!1,status:null,ruleCon:"",tqDate:"",dqdate:"",startTime:"",enTime:"",gmsm:""}},onLoad:function(t){this.goodsId=t.goodsId},onShow:function(){this.rz(),this.getData(),this.getGmsm()},methods:{rz:function(){var t=this;return s(a.default.mark((function n(){var e;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$http.get("user/userInfo");case 3:e=n.sent,1==e.code&&(e.data.name?t.rzflag=!0:t.rzflag=!1),n.next=9;break;case 7:n.prev=7,n.t0=n["catch"](0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})))()},pay:function(){var t=this;return s(a.default.mark((function n(){return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.rzflag?t.info.xgstatus-0>t.info.gmcount-0?t.go("orderMakeSure?goodsId="+t.goodsId):t.toast("购买次数已达上限。"):(t.toast("未实名认证，请先实名认证"),setTimeout((function(){t.go("/pages/my/authentication")}),500));case 1:case"end":return n.stop()}}),n)})))()},getGmsm:function(){var t=this;this.$http.get("index/cp_gmsm").then((function(n){t.gmsm=n}))},toast1:function(){var t=this;this.rzflag?(this.toast(this.text),2==this.status&&this.getData()):(this.toast("未实名认证，请先实名认证"),setTimeout((function(){t.go("/pages/my/authentication")}),500))},getData:function(){var t=this;this.$http.get("goods/goodsDetail",{id:this.goodsId}).then((function(n){1==n.code&&(t.flag="false",t.status=n.data.status,t.surplus=n.data.surplus,1==t.status&&(t.surplus<0||0==t.surplus)&&(t.text="已售罄",t.flag="true"),2==t.status&&(t.text="未开始",t.flag="true"),3==t.status&&(t.surplus<0||0==t.surplus)&&(t.text="已售罄",t.flag="true"),3==t.status&&t.surplus>0&&(t.text="已结束",t.flag="true"),t.info=n.data,t.startTime=n.data.dq_time,t.enTime=n.data.start_time)}))}}};n.default=i},ce86:function(t,n,e){"use strict";var a;e.d(n,"b",(function(){return u})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return a}));var u=function(){var t=this,n=t.$createElement,e=(t._self._c,t.info.content?t.util.checkImg(t.info.content):null),a=t.gmsm?t.util.checkImg(t.gmsm):null;t.$mp.data=Object.assign({},{$root:{g0:e,g1:a}})},o=[]},fa76:function(t,n,e){"use strict";e.r(n);var a=e("8225"),u=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(n,t,(function(){return a[t]}))}(o);n["default"]=u.a}},[["4b65","common/runtime","common/vendor"]]]);