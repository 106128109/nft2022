(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"23c2":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return o}));var o={uNoticeBar:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-notice-bar/u-notice-bar")]).then(n.bind(null,"a996"))},uniLoadMore:function(){return n.e("components/uni-load-more/uni-load-more").then(n.bind(null,"478a"))},uniFooter:function(){return n.e("components/uni-footer/uni-footer").then(n.bind(null,"9fc9"))},uPopup:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-popup/u-popup")]).then(n.bind(null,"67c7"))}},i=function(){var t=this,e=t.$createElement,n=(t._self._c,t.util.checkImg(t.text1));t._isMounted||(t.e0=function(e){t.smshow=!1}),t.$mp.data=Object.assign({},{$root:{g0:n}})},s=[]},"3ad6":function(t,e,n){},8212:function(t,e,n){"use strict";var o=n("3ad6"),i=n.n(o);i.a},b40f:function(t,e,n){"use strict";n.r(e);var o=n("23c2"),i=n("b8cc");for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);n("8212");var a,r=n("f0c5"),u=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,"42f23bd6",null,!1,o["a"],a);e["default"]=u.exports},b8cc:function(t,e,n){"use strict";n.r(e);var o=n("d5d2"),i=n.n(o);for(var s in o)"default"!==s&&function(t){n.d(e,t,(function(){return o[t]}))}(s);e["default"]=i.a},d5d2:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("a34a"));function i(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n,o,i,s,a){try{var r=t[s](a),u=r.value}catch(c){return void n(c)}r.done?e(u):Promise.resolve(u).then(o,i)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function r(t){s(a,o,i,r,u,"next",t)}function u(t){s(a,o,i,r,u,"throw",t)}r(void 0)}))}}var r={data:function(){return{banner:[],shopList:[],status:"more",pagesize:15,page:1,flag:!1,block:!1,gid:"0",showType:"0",scrollTopt:0,text1:"",firstNotice:{},smshow:!1,rlflag:!0}},onLoad:function(e){this.getBanner(),this.shopList=[],this.getList();var n=this;t.$on("init",(function(){"0"==n.showType&&(n.flag=!1,n.page=1,n.shopList=[],n.getList())})),this.getNotice(),this.getrlflag()},onPageScroll:function(t){this.scrollTopt=t.scrollTop,this.scrollTopt},onReachBottom:function(){this.flag||(this.status="loading",this.page++,this.getList())},onPullDownRefresh:function(){this.getBanner(),this.flag=!1,this.page=1,this.shopList=[],this.getList()},methods:{getrlflag:function(){var t=this;return a(o.default.mark((function e(){var n;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$http.get("login/buy_rl_handle");case 3:n=e.sent,t.rlflag=1==n,e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))()},close:function(){this.smshow=!1},getNotice:function(){var e=this;return a(o.default.mark((function n(){var i;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$http.get("index/noticeList");case 3:i=n.sent,e.text1=i.data[0].content,e.firstNotice=i.data[0],t.getStorageSync("popUp")&&(e.smshow=!0,t.removeStorageSync("popUp")),n.next=11;break;case 9:n.prev=9,n.t0=n["catch"](0);case 11:case"end":return n.stop()}}),n,null,[[0,9]])})))()},next1:function(t){t.url?this.go("webView?ss="+t.url):this.go("/pages/manghe/index")},tab:function(t){this.showType!=t&&(this.showType=t,this.flag=!1,this.page=1,this.shopList=[],this.getList())},reload:function(t){"0"==t&&(this.block=!this.block),this.gid!=t&&(this.gid=t,this.shopList=[],this.getList())},detail:function(t){this.go("txtdetail?con="+JSON.stringify(t))},next:function(t){this.go("goodsDetail?goodsId="+t.id)},getList:function(){var e=this;if("0"!=this.showType)return this.$http.get("2"==this.showType?"index/noticeList":"index/calendar",{page:this.page,pagesize:this.pagesize}).then((function(t){1==t.code?0==t.data.length?(e.flag=!0,e.status="noMore"):(e.shopList=e.shopList.concat(t.data),t.data.length<e.pagesize&&(e.flag=!0,e.status="noMore")):(e.flag=!0,e.status="noMore")})),!1;this.$http.get("goods/goodsList",{goods_category_id:this.gid,page:this.page,pagesize:this.pagesize}).then((function(n){t.stopPullDownRefresh(),1==n.code?0==n.data.data.length?(e.flag=!0,e.status="noMore"):(e.shopList=e.shopList.concat(n.data.data),n.data.data.length<e.pagesize&&(e.flag=!0,e.status="noMore")):(e.flag=!0,e.status="noMore")}))},getBanner:function(){var e=this;this.$http.get("index/bannerList",{type:"1"}).then((function(n){t.stopPullDownRefresh(),1==n.code&&(e.banner=n.data)}))}}};e.default=r}).call(this,n("543d")["default"])},f27a:function(t,e,n){"use strict";(function(t){n("c224");o(n("66fd"));var e=o(n("b40f"));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])}},[["f27a","common/runtime","common/vendor"]]]);