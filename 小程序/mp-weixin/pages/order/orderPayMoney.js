(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/orderPayMoney"],{"3a31":function(t,e,a){"use strict";a.r(e);var n=a("cdc9"),i=a("68de");for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("7dfe");var r,s=a("f0c5"),c=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},"68de":function(t,e,a){"use strict";a.r(e);var n=a("c4b6"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},"7dfe":function(t,e,a){"use strict";var n=a("8a73"),i=a.n(n);i.a},"8a73":function(t,e,a){},c4b6:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{payList:[{ImgUrl:"../../static/img/order/zhifubao.png",PayName:"余额",PayType:"1"}],goodsInfo:{},payType:"",orderOID:"",is_market:0}},onLoad:function(t){t.orderId&&(this.orderOID=t.orderId,this.getOrder()),t.is_market&&(this.is_market=t.is_market)},methods:{payTypeChange:function(t){console.log(t.target.value),this.payType=t.target.value},getOrder:function(t){var e=this;this.$http.post("order/orderDetail",{id:this.orderOID}).then((function(t){1==t.code&&(e.goodsInfo=t.data)}))},weixinPay:function(e){var a=this;t.requestPayment({provider:"wxpay",timeStamp:e.timeStamp,nonceStr:e.nonceStr,package:e.package,paySign:e.paySign,signType:"MD5",success:function(e){a.toast("支付成功"),t.$emit("init"),setTimeout((function(){t.redirectTo({url:"./orderList"})}),800)},fail:function(t){a.toast("支付失败"),console.log("fail1:"+JSON.stringify(t))}})},aliPay:function(t){},submit:function(){var e=this;this.payType?1!=t.getStorageSync("wx_auth")?(this.toast("未授权"),wx.getUserProfile({desc:"获取用户基本信息",success:function(a){t.login({success:function(a){"login:ok"==a.errMsg?e.$http.post("user/wxSmallAuth",{code:a.code}).then((function(a){t.setStorageSync("wx_auth",1),e.pay()})):t.showToast({title:"授权用户信息失败",icon:"none"})}})},fail:function(){t.showToast({title:"授权用户信息失败",icon:"none"})}})):this.pay():this.toast("请选择支付方式")},pay:function(){var e=this,a={order_id:this.orderOID,pay_type:this.payType};1==this.is_market&&(a.is_market=this.is_market),this.$http.post("order/pay",a).then((function(a){if(1==a.code)if(e.toast(a.msg),1==e.payType)t.$emit("init"),setTimeout((function(){t.redirectTo({url:"../order/orderList"})}),1e3);else if(2==e.payType)e.aliPay(a.data.pay);else if(4==e.payType){var n=document.createElement("div");n.innerHTML=a.data.pay,document.body.appendChild(n),document.forms["alipay_submit"].submit()}else 3==e.payType||6==e.payType?e.weixinPay(a.data.pay):5==e.payType&&(window.location.href=a.data.pay);else e.toast(a.msg)}))}}};e.default=a}).call(this,a("543d")["default"])},cdc9:function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement;t._self._c},o=[]},e72b:function(t,e,a){"use strict";(function(t){a("c224");n(a("66fd"));var e=n(a("3a31"));function n(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=a,t(e.default)}).call(this,a("543d")["createPage"])}},[["e72b","common/runtime","common/vendor"]]]);