(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/myInfo"],{"07f2":function(t,e,n){"use strict";var o;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return o}));var a=function(){var t=this,e=t.$createElement;t._self._c},c=[]},"1ef9":function(t,e,n){"use strict";n.r(e);var o=n("df2c"),a=n.n(o);for(var c in o)"default"!==c&&function(t){n.d(e,t,(function(){return o[t]}))}(c);e["default"]=a.a},8576:function(t,e,n){"use strict";var o=n("f0e4"),a=n.n(o);a.a},b178:function(t,e,n){"use strict";n.r(e);var o=n("07f2"),a=n("1ef9");for(var c in a)"default"!==c&&function(t){n.d(e,t,(function(){return a[t]}))}(c);n("8576"),n("e1bd");var s,i=n("f0c5"),u=Object(i["a"])(a["default"],o["b"],o["c"],!1,null,"09469efb",null,!1,o["a"],s);e["default"]=u.exports},bcb7:function(t,e,n){},df2c:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{showSrc:"",userInfo:{}}},onShow:function(){this.getMemInfo()},onLoad:function(){},methods:{show:function(e){var n=this;t.previewImage({urls:[e],longPressActions:{itemList:["更换图片","保存图片"],success:function(o){1===o.tapIndex?(console.log(o.tapIndex),t.saveImageToPhotosAlbum({filePath:e,success:function(){t.showToast({title:"保存成功",icon:"none"})}})):(console.log(o.tapIndex),n.chooseImg())},fail:function(t){console.log(t.errMsg)}}})},getMemInfo:function(){var t=this;this.$http.get("user/userInfo").then((function(e){1==e.code&&(t.userInfo=e.data,t.showSrc=e.data.head_image)}))},editInfo:function(){var e=this,n={nick_name:this.userInfo.nick_name,head_image:this.showSrc};this.$http.post("user/editUserInfo",n).then((function(n){1==n.code?(e.toast(n.msg),setTimeout((function(){t.navigateBack({delta:2})}),1200)):e.toast(n.msg)}))},chooseImg:function(){var e=this;t.chooseImage({count:1,sizeType:["original"],success:function(n){console.log(n);var o=n.tempFilePaths;t.uploadFile({url:e.baseUrl+"upload/fileUpload",filePath:o[0],name:"image",header:{token:t.getStorageSync("token")},success:function(t){var n=JSON.parse(t.data);1==n.code?(e.showSrc=n.data.path,e.editInfo()):e.toast("上传失败")}})}})}}};e.default=n}).call(this,n("543d")["default"])},e1bd:function(t,e,n){"use strict";var o=n("bcb7"),a=n.n(o);a.a},f0e4:function(t,e,n){},f959:function(t,e,n){"use strict";(function(t){n("c224");o(n("66fd"));var e=o(n("b178"));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])}},[["f959","common/runtime","common/vendor"]]]);