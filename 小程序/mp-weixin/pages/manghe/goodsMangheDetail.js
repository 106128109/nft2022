(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/manghe/goodsMangheDetail"],{"0de9":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("a34a"));function o(t){return t&&t.__esModule?t:{default:t}}function i(t,n,e,a,o,i,r){try{var u=t[i](r),s=u.value}catch(c){return void e(c)}u.done?n(s):Promise.resolve(s).then(a,o)}function r(t){return function(){var n=this,e=arguments;return new Promise((function(a,o){var r=t.apply(n,e);function u(t){i(r,a,o,u,s,"next",t)}function s(t){i(r,a,o,u,s,"throw",t)}u(void 0)}))}}var u={data:function(){return{goodsId:"",banner:{},info:{},goodsList:[],buy_content:"",fullscreen:!0,flag:!1,text:"",rzflag:!1,gmFlag:!0}},onLoad:function(n){var e=this;this.goodsId=n.goodsId;t.$on("init",(function(){e.getData()})),n.type&&(this.gmFlag=!1)},onShow:function(){this.getData(),this.rz()},methods:{judge:function(){var t=this;return r(a.default.mark((function n(){var e;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$http.post("manghe/goodsManghesj",{id:t.goodsId});case 3:e=n.sent,1==e.state?(t.flag=!1,t.text="盲盒已卖完"):t.flag=!0,n.next=9;break;case 7:n.prev=7,n.t0=n["catch"](0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})))()},rz:function(){var t=this;return r(a.default.mark((function n(){var e;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$http.get("user/userInfo");case 3:e=n.sent,console.log(e),1==e.code&&(e.data.name?t.rzflag=!0:t.rzflag=!1),n.next=10;break;case 8:n.prev=8,n.t0=n["catch"](0);case 10:case"end":return n.stop()}}),n,null,[[0,8]])})))()},pay:function(){var t=this;if(this.rzflag){if(this.info.mhxgstatus-0<=this.info.gmcount-0)return void this.toast("该盲盒只能购买"+this.info.mhxgstatus+"个");this.go("/pages/index/orderMakeSure?goodsId="+this.goodsId)}else this.toast("未实名认证，请先实名认证"),setTimeout((function(){t.go("/pages/my/authentication")}),500)},toast1:function(){var t=this;this.rzflag?this.toast(this.text):(this.toast("未实名认证，请先实名认证"),setTimeout((function(){t.go("/pages/my/authentication")}),500))},getData:function(){var t=this;this.$http.get("manghe/goodsMangheDetail",{id:this.goodsId}).then((function(n){1==n.code?(t.banner=n.data.images,t.info=n.data,1==t.info.status?(t.flag=!0,t.text="",t.judge()):2==t.info.status?(t.flag=!1,t.text="未开始"):(t.flag=!1,t.text="已过期")):(t.flag=!1,t.text="其他")}))}}};n.default=u}).call(this,e("543d")["default"])},"1ef8":function(t,n,e){"use strict";(function(t){e("c224");a(e("66fd"));var n=a(e("4bf6"));function a(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=e,t(n.default)}).call(this,e("543d")["createPage"])},2665:function(t,n,e){"use strict";e.r(n);var a=e("0de9"),o=e.n(a);for(var i in a)"default"!==i&&function(t){e.d(n,t,(function(){return a[t]}))}(i);n["default"]=o.a},3144:function(t,n,e){},"4bf6":function(t,n,e){"use strict";e.r(n);var a=e("aebd"),o=e("2665");for(var i in o)"default"!==i&&function(t){e.d(n,t,(function(){return o[t]}))}(i);e("f39c");var r,u=e("f0c5"),s=Object(u["a"])(o["default"],a["b"],a["c"],!1,null,"51c47fa2",null,!1,a["a"],r);n["default"]=s.exports},aebd:function(t,n,e){"use strict";var a;e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){return a}));var o=function(){var t=this,n=t.$createElement,e=(t._self._c,t.info.content?t.util.checkImg(t.info.content):null),a=t.info.gmsm?t.util.checkImg(t.info.gmsm):null;t.$mp.data=Object.assign({},{$root:{g0:e,g1:a}})},i=[]},f39c:function(t,n,e){"use strict";var a=e("3144"),o=e.n(a);o.a}},[["1ef8","common/runtime","common/vendor"]]]);